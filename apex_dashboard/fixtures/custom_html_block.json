[
 {
  "docstatus": 0,
  "doctype": "Custom HTML Block",
  "html": "\n<div class=\"holidays-widget\">\n    <h3>üéâ Upcoming Holidays (Egypt)</h3>\n    <div class=\"holiday-carousel\">\n        <button class=\"nav-btn prev\" id=\"prev-holiday\">‚Äπ</button>\n        <div class=\"holiday-card\">\n            <div class=\"holiday-name\" id=\"holiday-name\">New Year's Day</div>\n            <div class=\"holiday-date\" id=\"holiday-date\">January 1, 2026</div>\n        </div>\n        <button class=\"nav-btn next\" id=\"next-holiday\">‚Ä∫</button>\n    </div>\n</div>\n",
  "modified": "2025-12-04 09:51:26.433572",
  "name": "Dashboard Holidays",
  "private": 0,
  "roles": [],
  "script": "\nconst holidays = [\n    { name: \"New Year's Day\", date: \"January 1, 2026\" },\n    { name: \"Coptic Christmas\", date: \"January 7, 2026\" },\n    { name: \"Revolution Day\", date: \"January 25, 2026\" },\n    { name: \"Eid al-Fitr\", date: \"March 20-22, 2026\" },\n    { name: \"Sinai Liberation Day\", date: \"April 25, 2026\" },\n    { name: \"Labour Day\", date: \"May 1, 2026\" },\n    { name: \"Eid al-Adha\", date: \"May 26-30, 2026\" },\n    { name: \"Revolution Day\", date: \"July 23, 2026\" }\n];\n\nlet currentIndex = 0;\n\nfunction updateHoliday() {\n    const nameEl = root_element.querySelector('#holiday-name');\n    const dateEl = root_element.querySelector('#holiday-date');\n    \n    if (nameEl) nameEl.textContent = holidays[currentIndex].name;\n    if (dateEl) dateEl.textContent = holidays[currentIndex].date;\n}\n\nconst prevBtn = root_element.querySelector('#prev-holiday');\nconst nextBtn = root_element.querySelector('#next-holiday');\n\nif (prevBtn) {\n    prevBtn.addEventListener('click', () => {\n        currentIndex = (currentIndex - 1 + holidays.length) % holidays.length;\n        updateHoliday();\n    });\n}\n\nif (nextBtn) {\n    nextBtn.addEventListener('click', () => {\n        currentIndex = (currentIndex + 1) % holidays.length;\n        updateHoliday();\n    });\n}\n\nupdateHoliday();\n",
  "style": "\n.holidays-widget {\n    background: white;\n    border-radius: 10px;\n    padding: 12px 16px;\n    box-shadow: 0 2px 8px rgba(0,0,0,0.05);\n    max-width: 600px;\n    margin: 0 auto;\n}\n.holidays-widget h3 {\n    margin: 0 0 10px 0;\n    font-size: 14px;\n    color: #1F272E;\n    text-align: center;\n    font-weight: 600;\n}\n.holiday-carousel {\n    display: flex;\n    align-items: center;\n    gap: 8px;\n    justify-content: center;\n}\n.holiday-card {\n    flex: 1;\n    background: #F3F4F6;\n    border-radius: 8px;\n    padding: 12px 16px;\n    text-align: center;\n    color: #374151;\n    max-width: 400px;\n}\n.holiday-name {\n    font-size: 15px;\n    font-weight: 600;\n    margin-bottom: 4px;\n    color: #1F272E;\n}\n.holiday-date {\n    font-size: 12px;\n    color: #6B7280;\n}\n.nav-btn {\n    background: #f3f4f6;\n    border: none;\n    width: 32px;\n    height: 32px;\n    border-radius: 50%;\n    font-size: 18px;\n    cursor: pointer;\n    transition: all 0.2s;\n    color: #6B7280;\n    flex-shrink: 0;\n}\n.nav-btn:hover {\n    background: #e5e7eb;\n    color: #374151;\n}\n"
 },
 {
  "docstatus": 0,
  "doctype": "Custom HTML Block",
  "html": "\n<div class=\"notes-widget\">\n    <h3>üìù Quick Notes</h3>\n    <textarea id=\"user-notes\" placeholder=\"Write your notes here...\"></textarea>\n    <div class=\"notes-actions\">\n        <button class=\"btn-save\" id=\"save-notes\">Save</button>\n        <button class=\"btn-clear\" id=\"clear-notes\">Clear</button>\n    </div>\n</div>\n",
  "modified": "2025-12-03 23:59:01.665097",
  "name": "Dashboard Notes",
  "private": 0,
  "roles": [],
  "script": "\nconst userId = frappe.session.user;\nconst textarea = root_element.querySelector('#user-notes');\nconst saveBtn = root_element.querySelector('#save-notes');\nconst clearBtn = root_element.querySelector('#clear-notes');\n\n// Load notes from server\nfunction loadNotes() {\n    frappe.call({\n        method: 'frappe.client.get_value',\n        args: {\n            doctype: 'User',\n            filters: { name: userId },\n            fieldname: 'bio'\n        },\n        callback: function(r) {\n            if (r.message && textarea) {\n                textarea.value = r.message.bio || '';\n            }\n        }\n    });\n}\n\n// Save notes to server\nfunction saveNotes() {\n    if (!textarea) return;\n    \n    frappe.call({\n        method: 'frappe.client.set_value',\n        args: {\n            doctype: 'User',\n            name: userId,\n            fieldname: 'bio',\n            value: textarea.value\n        },\n        callback: function(r) {\n            if (r.message) {\n                frappe.show_alert({message: '‚úÖ Notes saved and synced!', indicator: 'green'}, 3);\n            }\n        },\n        error: function(err) {\n            frappe.show_alert({message: '‚ùå Error saving notes', indicator: 'red'}, 3);\n            console.error('Save error:', err);\n        }\n    });\n}\n\n// Clear notes\nfunction clearNotes() {\n    if (!confirm('Clear all notes?')) return;\n    \n    if (textarea) textarea.value = '';\n    \n    frappe.call({\n        method: 'frappe.client.set_value',\n        args: {\n            doctype: 'User',\n            name: userId,\n            fieldname: 'bio',\n            value: ''\n        },\n        callback: function(r) {\n            frappe.show_alert({message: 'üóëÔ∏è Notes cleared!', indicator: 'blue'}, 2);\n        }\n    });\n}\n\n// Event listeners\nif (textarea) {\n    // Stop propagation to prevent global search\n    textarea.addEventListener('keydown', (e) => e.stopPropagation(), true);\n    textarea.addEventListener('keyup', (e) => e.stopPropagation(), true);\n    textarea.addEventListener('keypress', (e) => e.stopPropagation(), true);\n    \n    // Auto-save every 5 seconds if changed\n    let lastValue = '';\n    let saveTimeout;\n    textarea.addEventListener('input', () => {\n        clearTimeout(saveTimeout);\n        saveTimeout = setTimeout(() => {\n            if (textarea.value !== lastValue) {\n                saveNotes();\n                lastValue = textarea.value;\n            }\n        }, 5000);\n    });\n}\n\nif (saveBtn) {\n    saveBtn.addEventListener('click', saveNotes);\n}\n\nif (clearBtn) {\n    clearBtn.addEventListener('click', clearNotes);\n}\n\n// Load notes on init\nloadNotes();\n",
  "style": "\n.notes-widget {\n    background: white;\n    border-radius: 12px;\n    padding: 20px;\n    box-shadow: 0 2px 8px rgba(0,0,0,0.05);\n}\n.notes-widget h3 {\n    margin: 0 0 15px 0;\n    font-size: 16px;\n    color: #1F272E;\n}\n#user-notes {\n    width: 100%;\n    min-height: 150px;\n    padding: 12px;\n    border: 1px solid #E5E7EB;\n    border-radius: 8px;\n    font-family: inherit;\n    font-size: 14px;\n    resize: vertical;\n    margin-bottom: 10px;\n}\n#user-notes:focus {\n    outline: none;\n    border-color: #667eea;\n    box-shadow: 0 0 0 3px rgba(102, 126, 234, 0.1);\n}\n.notes-actions {\n    display: flex;\n    gap: 8px;\n    justify-content: flex-end;\n}\n.btn-save, .btn-clear {\n    padding: 8px 16px;\n    border: none;\n    border-radius: 6px;\n    font-size: 14px;\n    cursor: pointer;\n    transition: all 0.2s;\n}\n.btn-save {\n    background: #667eea;\n    color: white;\n}\n.btn-save:hover {\n    background: #5568d3;\n}\n.btn-clear {\n    background: #f3f4f6;\n    color: #374151;\n}\n.btn-clear:hover {\n    background: #e5e7eb;\n}\n"
 }
]